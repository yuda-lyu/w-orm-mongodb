/*!
 * w-orm-mongodb v1.0.11
 * (c) 2018-2019 yuda-lyu(semisphere)
 * Released under the MIT License.
 */(function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("mongodb")):"function"==typeof define&&define.amd?define(["mongodb"],t):(e=e||self,e["w-orm-mongodb"]=t(e.mongodb))})(this,function(e){'use strict';function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function o(e,t){return t={exports:{}},e(t,t.exports),t.exports}function r(e,t,o,r,n,a,c){try{var l=e[a](c),d=l.value}catch(e){return void o(e)}l.done?t(d):Promise.resolve(d).then(r,n)}function n(e){var t=-1,o=null==e?0:e.length;for(this.clear();++t<o;){var r=e[t];this.set(r[0],r[1])}}function a(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":se&&se in Object(e)?le(e):pe(e)}function c(e){var o=t(e);return null!=e&&("object"==o||"function"==o)}function l(e){return!!fe&&fe in e}function d(e){var t=-1,o=null==e?0:e.length;for(this.clear();++t<o;){var r=e[t];this.set(r[0],r[1])}}function i(e){var o=t(e);return"string"==o||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==e:null===e}function p(e){var t=-1,o=null==e?0:e.length;for(this.clear();++t<o;){var r=e[t];this.set(r[0],r[1])}}function s(e){var t=this.__data__=new X(e);this.size=t.size}function y(e,t,o){var r=e[t];Je.call(e,t)&&W(r,o)&&(o!==void 0||t in e)||Ye(e,t,o)}function u(e){return null!=e&&"object"==t(e)}function b(e,o){var r=t(e);return o=null==o?9007199254740991:o,!!o&&("number"==r||"symbol"!=r&&it.test(e))&&-1<e&&0==e%1&&e<o}function h(e,t,o,r,n,a){var c,l=1&t,d=2&t;if(o&&(c=n?o(e,r,n,a):o(e)),void 0!==c)return c;if(!ue(e))return e;var i=ct(e);if(!i){var p=vo(e),s="[object Function]"==p||"[object GeneratorFunction]"==p;if(dt(e))return Nt(e,l);if("[object Object]"!=p&&"[object Arguments]"!=p&&(!s||n)){if(!qo[p])return n?e:{};c=No(e,p,l)}else if(c=d||s?{}:Go(e),!l)return d?Kt(e,Mt(c,e)):Yt(e,Pt(c,e))}else if(c=Oo(e),!l)return Bt(e,c);a||(a=new Ve);var y=a.get(e);if(y)return y;a.set(e,c),Yo(e)?e.forEach(function(r){c.add(h(r,t,o,r,e,a))}):Ro(e)&&e.forEach(function(r,n){c.set(n,h(r,t,o,n,e,a))});var u=4&t?d?oo:to:d?keysIn:Lt,b=i?void 0:u(e);return Re(b||e,function(r,n){b&&(n=r,r=e[n]),Xe(c,n,h(r,t,o,n,e,a))}),c}function g(e){return"symbol"==t(e)||Qe(e)&&ye(e)=="[object Symbol]"}function f(e,o){if(ct(e))return!1;var r=t(e);return!!("number"==r||"symbol"==r||"boolean"==r||null==e||Ho(e))||Qo.test(e)||!Zo.test(e)||null!=o&&e in Object(o)}function j(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var o=function o(){var r=arguments,n=t?t.apply(this,r):r[0],a=o.cache;if(a.has(n))return a.get(n);var c=e.apply(this,r);return o.cache=a.set(n,c)||a,c};return o.cache=new(j.Cache||Ce),o}function _(e){if("string"==typeof e)return e;if(ct(e))return rr(e,_)+"";if(Ho(e))return cr?cr.call(e):"";var t=e+"";return"0"==t&&1/e==-nr?"-0":t}function m(e){var t=-1,o=null==e?0:e.length;for(this.__data__=new Ce;++t<o;)this.add(e[t])}function x(e,t,o,r,n,a){var c=1&o,l=to(e),d=l.length,i=to(t),p=i.length;if(d!=p&&!c)return!1;for(var s,y=d;y--;)if(s=l[y],c?!(s in t):!xr.call(t,s))return!1;var u=a.get(e);if(u&&a.get(t))return u==t;var b=!0;a.set(e,t),a.set(t,e);for(var h=c;++y<d;){s=l[y];var g=e[s],f=t[s];if(r)var j=c?r(f,g,s,t,e,a):r(g,f,s,e,t,a);if(void 0===j?!(g===f||n(g,f,o,r,a)):!j){b=!1;break}h||(h="constructor"==s)}if(b&&!h){var _=e.constructor,m=t.constructor;_!=m&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof m&&m instanceof m)&&(b=!1)}return a["delete"](e),a["delete"](t),b}function w(e,t,o,r,n){return!(e!==t)||(null!=e&&null!=t&&(Qe(e)||Qe(t))?Sr(e,t,o,r,w,n):e!==e&&t!==t)}function v(e,t,o,r){var n=o.length,a=n,c=!r;if(null==e)return!a;for(e=Object(e);n--;){var l=o[n];if(c&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++n<a;){l=o[n];var d=l[0],i=e[d],p=l[1];if(!(c&&l[2])){var s=new Ve;if(r)var y=r(i,p,d,e,t,s);if(void 0===y?!Ar(p,i,3,r,s):!y)return!1}else if(void 0===i&&!(d in e))return!1}return!0}function S(e,t){return null!=e&&t in Object(e)}function A(e){return"function"==typeof e?e:null==e?Fr:"object"==t(e)?ct(e)?Tr(e[0],e[1]):Lr(e):Mr(e)}function O(e,t,o,r,n){var a=-1,c=e.length;for(o||(o=Kr),n||(n=[]);++a<c;){var l=e[a];0<t&&o(l)?1<t?O(l,t-1,o,r,n):qt(n,l):!r&&(n[n.length]=l)}return n}function k(){var e,t,o=new Promise(function(){e=arguments[0],t=arguments[1]});return o.resolve=e,o.reject=t,o}function E(e){var t=Object.prototype.toString.call(e);return"[object String]"===t}function L(e){return!!(E(e)&&""!==e)}function P(e){var t=Object.prototype.toString.call(e);return"[object Number]"===t}function z(e){var t=!1;return L(e)?t=!isNaN(+e):P(e)&&(t=!0),t}function T(e){if(!z(e))return 0;var t=_n(e);return t}function F(e){return!!z(e)&&(e=T(e),xn(e))}function U(e){if(!z(e))return 0;e=T(e);var t=An(e);return"0"===t+""?0:t}function I(e){if(!F(e))return!1;var t=0<U(e);return t}function M(){var e,t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:32,o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],n=[],a=o.length;if(I(t))for(e=0;e<t;e++)n[e]=o[0|Math.random()*a];else if("rfc4122"===t){n[8]=n[13]=n[18]=n[23]="-",n[14]="4";var c;for(e=0;36>e;e++)n[e]||(c=0|16*Math.random(),n[e]=o[19===e?8|3&c:c])}else return"";var l=n.join("");return l}function N(e){var t=Object.prototype.toString.call(e);return"[object Array]"===t}function B(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t||"[object AsyncFunction]"===t}function D(e,o){var r=k();if(!N(e))return r.reject("rs is not array"),r;if(!B(o))return r.reject("v is not Function"),r;var n=[];return e.reduce(function(e,r){return e.then(function(e){return n.push(e),o(r)})},Promise.resolve()).then(function(e){n.push(e),n=On(n),r.resolve(n)})["catch"](function(e){r.reject(e)}),r}function G(t){function o(){return r.apply(this,arguments)}function r(){return r=$(R.mark(function e(){var o,r,n,a,c,l=arguments;return R.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=0<l.length&&void 0!==l[0]?l[0]:{},r=k(),e.next=4,y.connect(t.url,{useNewUrlParser:!0});case 4:return n=e.sent,a=n.db(t.db),c=a.collection(t.cl),c.find(o).toArray(function(e,t){e?r.reject(e):(t=Gr(t,function(e){return e=pn(e,"_id"),e}),r.resolve(t)),n.close()}),e.abrupt("return",r);case 9:case"end":return e.stop();}},e)})),r.apply(this,arguments)}function n(){return a.apply(this,arguments)}function a(){return a=$(R.mark(function e(o){var r,n,a,c;return R.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=Xo(o),r=k(),e.next=4,y.connect(t.url,{useNewUrlParser:!0});case 4:return n=e.sent,a=n.db(t.db),c=a.collection(t.cl),N(o)||(o=[o]),o=Gr(o,function(e){return e.id||(e.id=M()),e}),c.insertMany(o,function(e,t){e?r.reject(e):0<t.insertedCount?r.resolve(t.result):r.reject(e),n.close()}),e.abrupt("return",r);case 11:case"end":return e.stop();}},e)})),a.apply(this,arguments)}function c(){return l.apply(this,arguments)}function l(){return l=$(R.mark(function e(o){var r,a,c,l,d,i,p,s,u=arguments;return R.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=1<u.length&&void 0!==u[1]?u[1]:{},o=Xo(o),a=sr(r,"autoInsert",!0),c=sr(r,"atomic",!1),l=k(),e.next=7,y.connect(t.url,{useNewUrlParser:!0});case 7:return d=e.sent,i=d.db(t.db),p=i.collection(t.cl),N(o)||(o=[o]),s=null,s=c?"findOneAndUpdate":"updateOne",D(o,function(e){var t=k();return p[s]({id:e.id},{$set:e},function(o,r){o?t.reject(o):(r.lastErrorObject&&(r.result={n:r.lastErrorObject.n,nModified:r.lastErrorObject.updatedExisting?1:0,ok:1}),a&&0===r.result.n?n(e).then(function(e){e.nInserted=1,t.resolve(e)})["catch"](function(e){t.reject(e)}):t.resolve(r.result))}),t}).then(function(e){l.resolve(e)})["catch"](function(e){l.reject(e)})["finally"](function(){d.close()}),e.abrupt("return",l);case 15:case"end":return e.stop();}},e)})),l.apply(this,arguments)}function d(){return i.apply(this,arguments)}function i(){return i=$(R.mark(function e(o){var r,n,a,c;return R.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=Xo(o),r=k(),e.next=4,y.connect(t.url,{useNewUrlParser:!0});case 4:return n=e.sent,a=n.db(t.db),c=a.collection(t.cl),N(o)||(o=[o]),D(o,function(e){var t=k();return c.deleteOne({id:e.id},function(e,o){e?t.resolve(e):(o=o.result,o.nDeleted=1,t.resolve(o))}),t}).then(function(e){r.resolve(e)})["catch"](function(e){r.reject(e)})["finally"](function(){n.close()}),e.abrupt("return",r);case 10:case"end":return e.stop();}},e)})),i.apply(this,arguments)}function p(){return s.apply(this,arguments)}function s(){return s=$(R.mark(function e(){var o,r,n,a,c,l=arguments;return R.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=0<l.length&&void 0!==l[0]?l[0]:{},r=k(),e.next=4,y.connect(t.url,{useNewUrlParser:!0});case 4:return n=e.sent,a=n.db(t.db),c=a.collection(t.cl),c.deleteMany(o,function(e,t){e?r.resolve(e):(t=t.result,r.resolve(t)),n.close()}),e.abrupt("return",r);case 9:case"end":return e.stop();}},e)})),s.apply(this,arguments)}t.url||(t.url="mongodb://127.0.0.1:27017"),t.db||(t.db="worm"),t.cl||(t.cl="test");var y=e.MongoClient;return{select:o,insert:n,save:c,del:d,delAll:p}}e=e&&e.hasOwnProperty("default")?e["default"]:e;var C="undefined"==typeof globalThis?"undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?{}:self:global:window:globalThis,V=o(function(e){var o=function(e){function o(e,t,o,r){var a=t&&t.prototype instanceof n?t:n,c=Object.create(a.prototype),l=new u(r||[]);return c._invoke=i(e,o,l),c}function r(e,t,o){try{return{type:"normal",arg:e.call(t,o)}}catch(e){return{type:"throw",arg:e}}}function n(){}function a(){}function c(){}function l(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function d(e){function o(n,a,c,l){var d=r(e[n],e,a);if("throw"===d.type)l(d.arg);else{var i=d.arg,p=i.value;return p&&"object"===t(p)&&j.call(p,"__await")?Promise.resolve(p.__await).then(function(e){o("next",e,c,l)},function(e){o("throw",e,c,l)}):Promise.resolve(p).then(function(e){i.value=e,c(i)},function(e){return o("throw",e,c,l)})}}function n(e,t){function r(){return new Promise(function(r,n){o(e,t,r,n)})}return a=a?a.then(r,r):r()}var a;this._invoke=n}function i(e,t,o){var n="suspendedStart";return function(a,c){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw c;return h()}for(o.method=a,o.arg=c;;){var l=o.delegate;if(l){var d=p(l,o);if(d){if(d===v)continue;return d}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if("suspendedStart"===n)throw n="completed",o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);n="executing";var i=r(e,t,o);if("normal"===i.type){if(n=o.done?"completed":"suspendedYield",i.arg===v)continue;return{value:i.arg,done:o.done}}"throw"===i.type&&(n="completed",o.method="throw",o.arg=i.arg)}}}function p(e,t){var o=e.iterator[t.method];if(o===g){if(t.delegate=null,"throw"===t.method){if(e.iterator["return"]&&(t.method="return",t.arg=g,p(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var n=r(o,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,v;var a=n.arg;if(!a)return t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v;if(a.done)t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=g);else return a;return t.delegate=null,v}function s(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function y(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function u(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(s,this),this.reset(!0)}function b(e){if(e){var t=e[m];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,r=function t(){for(;++o<e.length;)if(j.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=g,t.done=!0,t};return r.next=r}}return{next:h}}function h(){return{value:g,done:!0}}var g,f=Object.prototype,j=f.hasOwnProperty,_="function"==typeof Symbol?Symbol:{},m=_.iterator||"@@iterator",x=_.asyncIterator||"@@asyncIterator",w=_.toStringTag||"@@toStringTag";e.wrap=o;var v={},S={};S[m]=function(){return this};var A=Object.getPrototypeOf,O=A&&A(A(b([])));O&&O!==f&&j.call(O,m)&&(S=O);var k=c.prototype=n.prototype=Object.create(S);return a.prototype=k.constructor=c,c.constructor=a,c[w]=a.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===a||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,!(w in e)&&(e[w]="GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},l(d.prototype),d.prototype[x]=function(){return this},e.AsyncIterator=d,e.async=function(t,r,n,a){var c=new d(o(t,r,n,a));return e.isGeneratorFunction(r)?c:c.next().then(function(e){return e.done?e.value:c.next()})},l(k),k[w]="Generator",k[m]=function(){return this},k.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var o in e)t.push(o);return t.reverse(),function o(){for(;t.length;){var r=t.pop();if(r in e)return o.value=r,o.done=!1,o}return o.done=!0,o}},e.values=b,u.prototype={constructor:u,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(y),!e)for(var t in this)"t"===t.charAt(0)&&j.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=g)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return a.type="throw",a.arg=e,o.next=t,r&&(o.method="next",o.arg=g),!!r}if(this.done)throw e;for(var o=this,r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r],a=n.completion;if("root"===n.tryLoc)return t("end");if(n.tryLoc<=this.prev){var c=j.call(n,"catchLoc"),l=j.call(n,"finallyLoc");if(c&&l){if(this.prev<n.catchLoc)return t(n.catchLoc,!0);if(this.prev<n.finallyLoc)return t(n.finallyLoc)}else if(c){if(this.prev<n.catchLoc)return t(n.catchLoc,!0);}else if(!l)throw new Error("try statement without catch or finally");else if(this.prev<n.finallyLoc)return t(n.finallyLoc)}}},abrupt:function(e,t){for(var o,r=this.tryEntries.length-1;0<=r;--r)if(o=this.tryEntries[r],o.tryLoc<=this.prev&&j.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var n=o;break}n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc&&(n=null);var a=n?n.completion:{};return a.type=e,a.arg=t,n?(this.method="next",this.next=n.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t,o=this.tryEntries.length-1;0<=o;--o)if(t=this.tryEntries[o],t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),y(t),v},catch:function(e){for(var t,o=this.tryEntries.length-1;0<=o;--o)if(t=this.tryEntries[o],t.tryLoc===e){var r=t.completion;if("throw"===r.type){var n=r.arg;y(t)}return n}throw new Error("illegal catch attempt")},delegateYield:function(e,t,o){return this.delegate={iterator:b(e),resultName:t,nextLoc:o},"next"===this.method&&(this.arg=g),v}},e}(e.exports);try{regeneratorRuntime=o}catch(e){Function("r","regeneratorRuntime = r")(o)}}),R=V,$=function(e){return function(){var t=this,o=arguments;return new Promise(function(n,a){function c(e){r(d,n,a,c,l,"next",e)}function l(e){r(d,n,a,c,l,"throw",e)}var d=e.apply(t,o);c(void 0)})}},W=function(e,t){return e===t||e!==e&&t!==t},Y=function(e,t){for(var o=e.length;o--;)if(W(e[o][0],t))return o;return-1},q=Array.prototype,J=q.splice;n.prototype.clear=function(){this.__data__=[],this.size=0},n.prototype["delete"]=function(e){var t=this.__data__,o=Y(t,e);if(0>o)return!1;var r=t.length-1;return o==r?t.pop():J.call(t,o,1),--this.size,!0},n.prototype.get=function(e){var t=this.__data__,o=Y(t,e);return 0>o?void 0:t[o][1]},n.prototype.has=function(e){return-1<Y(this.__data__,e)},n.prototype.set=function(e,t){var o=this.__data__,r=Y(o,e);return 0>r?(++this.size,o.push([e,t])):o[r][1]=t,this};var X=n,H="object"==t(C)&&C&&C.Object===Object&&C,Z=H,Q="object"==("undefined"==typeof self?"undefined":t(self))&&self&&self.Object===Object&&self,K=Z||Q||Function("return this")(),ee=K,te=ee.Symbol,oe=te,re=Object.prototype,ne=re.hasOwnProperty,ae=re.toString,ce=oe?oe.toStringTag:void 0,le=function(e){var t=ne.call(e,ce),o=e[ce];try{e[ce]=void 0;var r=!0}catch(t){}var n=ae.call(e);return r&&(t?e[ce]=o:delete e[ce]),n},de=Object.prototype,ie=de.toString,pe=function(e){return ie.call(e)},se=oe?oe.toStringTag:void 0,ye=a,ue=c,be=function(e){if(!ue(e))return!1;var t=ye(e);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"},he=ee["__core-js_shared__"],ge=he,fe=function(){var e=/[^.]+$/.exec(ge&&ge.keys&&ge.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),je=Function.prototype,_e=je.toString,me=function(e){if(null!=e){try{return _e.call(e)}catch(t){}try{return e+""}catch(t){}}return""},xe=/[\\^$.*+?()[\]{}|]/g,we=/^\[object .+?Constructor\]$/,ve=Function.prototype,Se=Object.prototype,Ae=ve.toString,Oe=Se.hasOwnProperty,ke=RegExp("^"+Ae.call(Oe).replace(xe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ee=function(e){if(!ue(e)||l(e))return!1;var t=be(e)?ke:we;return t.test(me(e))},Le=function(e,t){return null==e?void 0:e[t]},Pe=function(e,t){var o=Le(e,t);return Ee(o)?o:void 0},ze=Pe(ee,"Map"),Te=ze,Fe=Pe(Object,"create"),Ue=Fe,Ie=Object.prototype,Me=Ie.hasOwnProperty,Ne=Object.prototype,Be=Ne.hasOwnProperty;d.prototype.clear=function(){this.__data__=Ue?Ue(null):{},this.size=0},d.prototype["delete"]=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},d.prototype.get=function(e){var t=this.__data__;if(Ue){var o=t[e];return o==="__lodash_hash_undefined__"?void 0:o}return Me.call(t,e)?t[e]:void 0},d.prototype.has=function(e){var t=this.__data__;return Ue?t[e]!==void 0:Be.call(t,e)},d.prototype.set=function(e,t){var o=this.__data__;return this.size+=this.has(e)?0:1,o[e]=Ue&&void 0===t?"__lodash_hash_undefined__":t,this};var De=d,Ge=function(e,t){var o=e.__data__;return i(t)?o["string"==typeof t?"string":"hash"]:o.map};p.prototype.clear=function(){this.size=0,this.__data__={hash:new De,map:new(Te||X),string:new De}},p.prototype["delete"]=function(e){var t=Ge(this,e)["delete"](e);return this.size-=t?1:0,t},p.prototype.get=function(e){return Ge(this,e).get(e)},p.prototype.has=function(e){return Ge(this,e).has(e)},p.prototype.set=function(e,t){var o=Ge(this,e),r=o.size;return o.set(e,t),this.size+=o.size==r?0:1,this};var Ce=p;s.prototype.clear=function(){this.__data__=new X,this.size=0},s.prototype["delete"]=function(e){var t=this.__data__,o=t["delete"](e);return this.size=t.size,o},s.prototype.get=function(e){return this.__data__.get(e)},s.prototype.has=function(e){return this.__data__.has(e)},s.prototype.set=function(e,t){var o=this.__data__;if(o instanceof X){var r=o.__data__;if(!Te||199>r.length)return r.push([e,t]),this.size=++o.size,this;o=this.__data__=new Ce(r)}return o.set(e,t),this.size=o.size,this};var Ve=s,Re=function(e,t){for(var o=-1,r=null==e?0:e.length;++o<r&&!(!1===t(e[o],o,e)););return e},$e=function(){try{var e=Pe(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),We=$e,Ye=function(e,t,o){"__proto__"==t&&We?We(e,t,{configurable:!0,enumerable:!0,value:o,writable:!0}):e[t]=o},qe=Object.prototype,Je=qe.hasOwnProperty,Xe=y,He=function(e,t,o,r){var n=!o;o||(o={});for(var a=-1,c=t.length;++a<c;){var l=t[a],d=r?r(o[l],e[l],l,o,e):void 0;d===void 0&&(d=e[l]),n?Ye(o,l,d):Xe(o,l,d)}return o},Ze=function(e,t){for(var o=-1,r=Array(e);++o<e;)r[o]=t(o);return r},Qe=u,Ke=function(e){return Qe(e)&&ye(e)=="[object Arguments]"},et=Object.prototype,tt=et.hasOwnProperty,ot=et.propertyIsEnumerable,rt=Ke(function(){return arguments}())?Ke:function(e){return Qe(e)&&tt.call(e,"callee")&&!ot.call(e,"callee")},nt=rt,at=Array.isArray,ct=at,lt=function(){return!1},dt=o(function(e,t){var o=t&&!t.nodeType&&t,r=o&&!0&&e&&!e.nodeType&&e,n=r&&r.exports===o,a=n?ee.Buffer:void 0,c=a?a.isBuffer:void 0;e.exports=c||lt}),it=/^(?:0|[1-9]\d*)$/,pt=b,st=function(e){return"number"==typeof e&&-1<e&&0==e%1&&e<=9007199254740991},yt={};yt["[object Float32Array]"]=yt["[object Float64Array]"]=yt["[object Int8Array]"]=yt["[object Int16Array]"]=yt["[object Int32Array]"]=yt["[object Uint8Array]"]=yt["[object Uint8ClampedArray]"]=yt["[object Uint16Array]"]=yt["[object Uint32Array]"]=!0,yt["[object Arguments]"]=yt["[object Array]"]=yt["[object ArrayBuffer]"]=yt["[object Boolean]"]=yt["[object DataView]"]=yt["[object Date]"]=yt["[object Error]"]=yt["[object Function]"]=yt["[object Map]"]=yt["[object Number]"]=yt["[object Object]"]=yt["[object RegExp]"]=yt["[object Set]"]=yt["[object String]"]=yt["[object WeakMap]"]=!1;var ut=function(e){return function(t){return e(t)}},bt=o(function(e,t){var o=t&&!t.nodeType&&t,r=o&&!0&&e&&!e.nodeType&&e,n=r&&r.exports===o,a=n&&Z.process,c=function(){try{var e=r&&r.require&&r.require("util").types;return e?e:a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=c}),ht=bt&&bt.isTypedArray,gt=ht?ut(ht):function(e){return Qe(e)&&st(e.length)&&!!yt[ye(e)]},ft=gt,jt=Object.prototype,_t=jt.hasOwnProperty,mt=function(e,t){var o=ct(e),r=!o&&nt(e),n=!o&&!r&&dt(e),a=!o&&!r&&!n&&ft(e),c=o||r||n||a,l=c?Ze(e.length,String):[],d=l.length;for(var i in e)(t||_t.call(e,i))&&!(c&&("length"==i||n&&("offset"==i||"parent"==i)||a&&("buffer"==i||"byteLength"==i||"byteOffset"==i)||pt(i,d)))&&l.push(i);return l},xt=Object.prototype,wt=function(e){var t=e&&e.constructor,o="function"==typeof t&&t.prototype||xt;return e===o},vt=function(e,t){return function(o){return e(t(o))}},St=vt(Object.keys,Object),At=Object.prototype,Ot=At.hasOwnProperty,kt=function(e){if(!wt(e))return St(e);var t=[];for(var o in Object(e))Ot.call(e,o)&&"constructor"!=o&&t.push(o);return t},Et=function(e){return null!=e&&st(e.length)&&!be(e)},Lt=function(e){return Et(e)?mt(e):kt(e)},Pt=function(e,t){return e&&He(t,Lt(t),e)},zt=function(e){var t=[];if(null!=e)for(var o in Object(e))t.push(o);return t},Tt=Object.prototype,Ft=Tt.hasOwnProperty,Ut=function(e){if(!ue(e))return zt(e);var t=wt(e),o=[];for(var r in e)("constructor"!=r||!t&&Ft.call(e,r))&&o.push(r);return o},It=function(e){return Et(e)?mt(e,!0):Ut(e)},Mt=function(e,t){return e&&He(t,It(t),e)},Nt=o(function(e,t){var o=t&&!t.nodeType&&t,r=o&&!0&&e&&!e.nodeType&&e,n=r&&r.exports===o,a=n?ee.Buffer:void 0,c=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var o=e.length,r=c?c(o):new e.constructor(o);return e.copy(r),r}}),Bt=function(e,t){var o=-1,r=e.length;for(t||(t=Array(r));++o<r;)t[o]=e[o];return t},Dt=function(e,t){for(var o=-1,r=null==e?0:e.length,n=0,a=[];++o<r;){var c=e[o];t(c,o,e)&&(a[n++]=c)}return a},Gt=function(){return[]},Ct=Object.prototype,Vt=Ct.propertyIsEnumerable,Rt=Object.getOwnPropertySymbols,$t=Rt?function(e){return null==e?[]:(e=Object(e),Dt(Rt(e),function(t){return Vt.call(e,t)}))}:Gt,Wt=$t,Yt=function(e,t){return He(e,Wt(e),t)},qt=function(e,t){for(var o=-1,r=t.length,n=e.length;++o<r;)e[n+o]=t[o];return e},Jt=vt(Object.getPrototypeOf,Object),Xt=Jt,Ht=Object.getOwnPropertySymbols,Zt=Ht?function(e){for(var t=[];e;)qt(t,Wt(e)),e=Xt(e);return t}:Gt,Qt=Zt,Kt=function(e,t){return He(e,Qt(e),t)},eo=function(e,t,o){var r=t(e);return ct(e)?r:qt(r,o(e))},to=function(e){return eo(e,Lt,Wt)},oo=function(e){return eo(e,It,Qt)},ro=Pe(ee,"DataView"),no=ro,ao=Pe(ee,"Promise"),co=ao,lo=Pe(ee,"Set"),io=lo,po=Pe(ee,"WeakMap"),so=po,yo="[object Map]",uo="[object Promise]",bo="[object Set]",ho="[object WeakMap]",go="[object DataView]",fo=me(no),jo=me(Te),_o=me(co),mo=me(io),xo=me(so),wo=ye;(no&&wo(new no(new ArrayBuffer(1)))!=go||Te&&wo(new Te)!=yo||co&&wo(co.resolve())!=uo||io&&wo(new io)!=bo||so&&wo(new so)!=ho)&&(wo=function(e){var t=ye(e),o=t=="[object Object]"?e.constructor:void 0,r=o?me(o):"";if(r)switch(r){case fo:return go;case jo:return yo;case _o:return uo;case mo:return bo;case xo:return ho;}return t});var vo=wo,So=Object.prototype,Ao=So.hasOwnProperty,Oo=function(e){var t=e.length,o=new e.constructor(t);return t&&"string"==typeof e[0]&&Ao.call(e,"index")&&(o.index=e.index,o.input=e.input),o},ko=ee.Uint8Array,Eo=ko,Lo=function(e){var t=new e.constructor(e.byteLength);return new Eo(t).set(new Eo(e)),t},Po=function(e,t){var o=t?Lo(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.byteLength)},zo=/\w*$/,To=function(e){var t=new e.constructor(e.source,zo.exec(e));return t.lastIndex=e.lastIndex,t},Fo=oe?oe.prototype:void 0,Uo=Fo?Fo.valueOf:void 0,Io=function(e){return Uo?Object(Uo.call(e)):{}},Mo=function(e,t){var o=t?Lo(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.length)},No=function(e,t,o){var r=e.constructor;return"[object ArrayBuffer]"===t?Lo(e):"[object Boolean]"===t||"[object Date]"===t?new r(+e):"[object DataView]"===t?Po(e,o):"[object Float32Array]"===t||"[object Float64Array]"===t||"[object Int8Array]"===t||"[object Int16Array]"===t||"[object Int32Array]"===t||"[object Uint8Array]"===t||"[object Uint8ClampedArray]"===t||"[object Uint16Array]"===t||"[object Uint32Array]"===t?Mo(e,o):"[object Map]"===t?new r:"[object Number]"===t||"[object String]"===t?new r(e):"[object RegExp]"===t?To(e):"[object Set]"===t?new r:"[object Symbol]"===t?Io(e):void 0},Bo=Object.create,Do=function(){function e(){}return function(t){if(!ue(t))return{};if(Bo)return Bo(t);e.prototype=t;var o=new e;return e.prototype=void 0,o}}(),Go=function(e){return"function"!=typeof e.constructor||wt(e)?{}:Do(Xt(e))},Co=bt&&bt.isMap,Vo=Co?ut(Co):function(e){return Qe(e)&&vo(e)=="[object Map]"},Ro=Vo,$o=bt&&bt.isSet,Wo=$o?ut($o):function(e){return Qe(e)&&vo(e)=="[object Set]"},Yo=Wo,qo={};qo["[object Arguments]"]=qo["[object Array]"]=qo["[object ArrayBuffer]"]=qo["[object DataView]"]=qo["[object Boolean]"]=qo["[object Date]"]=qo["[object Float32Array]"]=qo["[object Float64Array]"]=qo["[object Int8Array]"]=qo["[object Int16Array]"]=qo["[object Int32Array]"]=qo["[object Map]"]=qo["[object Number]"]=qo["[object Object]"]=qo["[object RegExp]"]=qo["[object Set]"]=qo["[object String]"]=qo["[object Symbol]"]=qo["[object Uint8Array]"]=qo["[object Uint8ClampedArray]"]=qo["[object Uint16Array]"]=qo["[object Uint32Array]"]=!0,qo["[object Error]"]=qo["[object Function]"]=qo["[object WeakMap]"]=!1;var Jo=h,Xo=function(e){return Jo(e,5)},Ho=g,Zo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Qo=/^\w*$/,Ko=f;j.Cache=Ce;var er=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tr=/\\(\\)?/g,or=function(e){var t=j(e,function(e){return 500===o.size&&o.clear(),e}),o=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(er,function(e,o,r,n){t.push(r?n.replace(tr,"$1"):o||e)}),t}),rr=function(e,t){for(var o=-1,r=null==e?0:e.length,n=Array(r);++o<r;)n[o]=t(e[o],o,e);return n},nr=1/0,ar=oe?oe.prototype:void 0,cr=ar?ar.toString:void 0,lr=function(e){return null==e?"":_(e)},dr=function(e,t){return ct(e)?e:Ko(e,t)?[e]:or(lr(e))},ir=function(e){if("string"==typeof e||Ho(e))return e;var t=e+"";return"0"==t&&1/e==-(1/0)?"-0":t},pr=function(e,t){t=dr(t,e);for(var o=0,r=t.length;null!=e&&o<r;)e=e[ir(t[o++])];return o&&o==r?e:void 0},sr=function(e,t,o){var r=null==e?void 0:pr(e,t);return r===void 0?o:r};m.prototype.add=m.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},m.prototype.has=function(e){return this.__data__.has(e)};var yr=function(e,t){for(var o=-1,r=null==e?0:e.length;++o<r;)if(t(e[o],o,e))return!0;return!1},ur=function(e,t){return e.has(t)},br=function(e,t,o,r,n,a){var c=1&o,l=e.length,d=t.length;if(l!=d&&!(c&&d>l))return!1;var i=a.get(e);if(i&&a.get(t))return i==t;var p=-1,s=!0,y=2&o?new m:void 0;for(a.set(e,t),a.set(t,e);++p<l;){var u=e[p],b=t[p];if(r)var h=c?r(b,u,p,t,e,a):r(u,b,p,e,t,a);if(void 0!==h){if(h)continue;s=!1;break}if(y){if(!yr(t,function(e,t){if(!ur(y,t)&&(u===e||n(u,e,o,r,a)))return y.push(t)})){s=!1;break}}else if(!(u===b||n(u,b,o,r,a))){s=!1;break}}return a["delete"](e),a["delete"](t),s},hr=function(e){var t=-1,o=Array(e.size);return e.forEach(function(e,r){o[++t]=[r,e]}),o},gr=function(e){var t=-1,o=Array(e.size);return e.forEach(function(e){o[++t]=e}),o},fr=oe?oe.prototype:void 0,jr=fr?fr.valueOf:void 0,_r=function(e,t,o,r,n,a,c){switch(o){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!!(e.byteLength==t.byteLength&&a(new Eo(e),new Eo(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return W(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var l=hr;case"[object Set]":var d=1&r;if(l||(l=gr),e.size!=t.size&&!d)return!1;var i=c.get(e);if(i)return i==t;r|=2,c.set(e,t);var p=br(l(e),l(t),r,n,a,c);return c["delete"](e),p;case"[object Symbol]":if(jr)return jr.call(e)==jr.call(t);}return!1},mr=Object.prototype,xr=mr.hasOwnProperty,wr=Object.prototype,vr=wr.hasOwnProperty,Sr=function(e,t,o,r,n,a){var c=ct(e),l=ct(t),d=c?"[object Array]":vo(e),i=l?"[object Array]":vo(t);d="[object Arguments]"==d?"[object Object]":d,i="[object Arguments]"==i?"[object Object]":i;var p="[object Object]"==d,s="[object Object]"==i,y=d==i;if(y&&dt(e)){if(!dt(t))return!1;c=!0,p=!1}if(y&&!p)return a||(a=new Ve),c||ft(e)?br(e,t,o,r,n,a):_r(e,t,d,o,r,n,a);if(!(1&o)){var u=p&&vr.call(e,"__wrapped__"),b=s&&vr.call(t,"__wrapped__");if(u||b){var h=u?e.value():e,g=b?t.value():t;return a||(a=new Ve),n(h,g,o,r,a)}}return!!y&&(a||(a=new Ve),x(e,t,o,r,n,a))},Ar=w,Or=function(e){return e===e&&!ue(e)},kr=function(e){for(var t=Lt(e),o=t.length;o--;){var r=t[o],n=e[r];t[o]=[r,n,Or(n)]}return t},Er=function(e,t){return function(o){return null!=o&&o[e]===t&&(t!==void 0||e in Object(o))}},Lr=function(e){var t=kr(e);return 1==t.length&&t[0][2]?Er(t[0][0],t[0][1]):function(o){return o===e||v(o,e,t)}},Pr=function(e,t,o){t=dr(t,e);for(var r,n=-1,a=t.length,c=!1;++n<a&&(r=ir(t[n]),!!(c=null!=e&&o(e,r)));)e=e[r];return c||++n!=a?c:(a=null==e?0:e.length,!!a&&st(a)&&pt(r,a)&&(ct(e)||nt(e)))},zr=function(e,t){return null!=e&&Pr(e,t,S)},Tr=function(e,t){return Ko(e)&&Or(t)?Er(ir(e),t):function(o){var r=sr(o,e);return r===void 0&&r===t?zr(o,e):Ar(t,r,3)}},Fr=function(e){return e},Ur=function(e){return function(t){return null==t?void 0:t[e]}},Ir=function(e){return function(t){return pr(t,e)}},Mr=function(e){return Ko(e)?Ur(ir(e)):Ir(e)},Nr=function(e){return function(t,o,r){for(var n=-1,a=Object(t),c=r(t),l=c.length;l--;){var d=c[e?l:++n];if(!1===o(a[d],d,a))break}return t}}(),Br=function(e,t){return function(o,r){if(null==o)return o;if(!Et(o))return e(o,r);for(var n=o.length,a=t?n:-1,c=Object(o);(t?a--:++a<n)&&!(!1===r(c[a],a,c)););return o}}(function(e,t){return e&&Nr(e,t,Lt)}),Dr=function(e,t){var o=-1,r=Et(e)?Array(e.length):[];return Br(e,function(e,n,a){r[++o]=t(e,n,a)}),r},Gr=function(e,t){var o=ct(e)?rr:Dr;return o(e,A(t,3))},Cr=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},Vr=function(e,t,o){var r=-1,n=e.length;0>t&&(t=-t>n?0:n+t),o=o>n?n:o,0>o&&(o+=n),n=t>o?0:o-t>>>0,t>>>=0;for(var a=Array(n);++r<n;)a[r]=e[r+t];return a},Rr=function(e,t){return 2>t.length?e:pr(e,Vr(t,0,-1))},$r=function(e,t){return t=dr(t,e),e=Rr(e,t),null==e||delete e[ir(Cr(t))]},Wr=Function.prototype,Yr=Object.prototype,qr=Wr.toString,Jr=Yr.hasOwnProperty,Xr=qr.call(Object),Hr=function(e){if(!Qe(e)||ye(e)!="[object Object]")return!1;var t=Xt(e);if(null===t)return!0;var o=Jr.call(t,"constructor")&&t.constructor;return"function"==typeof o&&o instanceof o&&qr.call(o)==Xr},Zr=function(e){return Hr(e)?void 0:e},Qr=oe?oe.isConcatSpreadable:void 0,Kr=function(e){return ct(e)||nt(e)||!!(Qr&&e&&e[Qr])},en=function(e){var t=null==e?0:e.length;return t?O(e,1):[]},tn=function(e,t,o){switch(o.length){case 0:return e.call(t);case 1:return e.call(t,o[0]);case 2:return e.call(t,o[0],o[1]);case 3:return e.call(t,o[0],o[1],o[2]);}return e.apply(t,o)},on=Math.max,rn=function(e,t,o){return t=on(void 0===t?e.length-1:t,0),function(){for(var r=arguments,n=-1,a=on(r.length-t,0),c=Array(a);++n<a;)c[n]=r[t+n];n=-1;for(var l=Array(t+1);++n<t;)l[n]=r[n];return l[t]=o(c),tn(e,this,l)}},nn=function(e){return function(){return e}},an=We?function(e,t){return We(e,"toString",{configurable:!0,enumerable:!1,value:nn(t),writable:!0})}:Fr,cn=Date.now,ln=function(e){var t=0,o=0;return function(){var r=cn(),n=16-(r-o);if(o=r,!(0<n))t=0;else if(800<=++t)return arguments[0];return e.apply(void 0,arguments)}}(an),dn=function(e){return ln(rn(e,void 0,en),e+"")}(function(e,t){var o={};if(null==e)return o;var r=!1;t=rr(t,function(t){return t=dr(t,e),r||(r=1<t.length),t}),He(e,oo(e),o),r&&(o=Jo(o,1|2|4,Zr));for(var n=t.length;n--;)$r(o,t[n]);return o}),pn=dn,sn=0/0,yn=/^\s+|\s+$/g,un=/^[-+]0x[0-9a-f]+$/i,bn=/^0b[01]+$/i,hn=/^0o[0-7]+$/i,gn=parseInt,fn=function(e){if("number"==typeof e)return e;if(Ho(e))return sn;if(ue(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ue(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(yn,"");var o=bn.test(e);return o||hn.test(e)?gn(e.slice(2),o?2:8):un.test(e)?sn:+e},jn=1/0,_n=function(e){if(!e)return 0===e?e:0;if(e=fn(e),e===jn||e===-jn){var t=0>e?-1:1;return 1.7976931348623157e+308*t}return e===e?e:0},mn=function(e){var t=_n(e),o=t%1;return t===t?o?t-o:t:0},xn=function(e){return"number"==typeof e&&e==mn(e)},wn=ee.isFinite,vn=Math.min,Sn=function(e){var t=Math[e];return function(e,o){if(e=fn(e),o=null==o?0:vn(mn(o),292),o&&wn(e)){var r=(lr(e)+"e").split("e"),n=t(r[0]+"e"+(+r[1]+o));return r=(lr(n)+"e").split("e"),+(r[0]+"e"+(+r[1]-o))}return t(e)}}("round"),An=Sn,On=function(e,t,o){var r=null==e?0:e.length;return r?(t=o||void 0===t?1:mn(t),Vr(e,0>t?0:t,r)):[]};return G});
//# sourceMappingURL=w-orm-mongodb.umd.js.map
